<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Example 10</title>
    <!--IE fixes -->
    <script type="text/javascript" src="../lib/json2.js"></script>
    <script type="text/javascript"> if (!window['console']) console = {log: function() {}}; </script>
    <!--//end IE fixes -->
    <!--<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script>-->
    <script type="text/javascript" src="../lib/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="../simple.mvc.js"></script>
    <!--optional:-->
    <script type="text/javascript" src="../../simplemvc-showcase/lib/bootstrap/js/bootstrap.min.js"></script>
    <link type="text/css" rel="stylesheet" href="../../simplemvc-showcase/lib/bootstrap/css/bootstrap.css" />
    <!--//end optional-->
  </head>
  <body style="background-color:#fcfcfc; border:1px solid #ccc; padding: 5px;">
    <h2>Template</h2>
    <div id="template">
      <input name="foo" type="text" placeholder="enter data..." />
      <br />
      <button class="btn btn-inverse" name="Save">Save</button>
      <button class="btn btn-inverse" name="Update" id="Update">Update</button>
      <button class="btn btn-inverse" name="Cancel" id="Cancel">Cancel</button>
      <button class="btn btn-danger" name="Delete" id="Delete">Delete</button>
    </div><!-- //end of view -->
    <br />
    <h2>Copies</h2>
    <div id="copies">
      
    </div>
    <script>
    var ctr,
        obj;
    
    $(function() {
      
      ctr = MVC.Controller({
        Save : function(obj, par) {
          alert(JSON.stringify(obj));
        },
        Cancel : function(obj, par) {
          alert("Cancel");
        }
      });
      
      obj = MVC.ModelView('#template', { 
        foo : 'bar' 
      }, {
        controller: ctr,
        clone: {
          id: "#1",
          withDataAndEvents: false,
          append: function(elem) {
            $('#copies').append(elem);
            $(elem).show();
          }
        }
      });
      
      
      obj = MVC.ModelView('#template', { 
        foo : 'bar2' 
      }, {
        controller: ctr,
        clone: {
          id: "#2",
          withDataAndEvents: false,
          append: function(elem) {
            $('#copies').append(elem);
            $(elem).show();
          }
        }
      });
      
      
      function printDebugObj() {
        DebugObj('#debug', { o1 : { object : obj, readDom : true } });
      }
    });
    </script>
    <div id="debug"> </div>
    <script src="debug.js"></script>
  </body>
</html>