<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Temp</title>
    <!-- jQuery -->
    <script src="//code.jquery.com/jquery-1.9.0.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.0.0.js"></script>
    <!--IE fixes -->
    <script type="text/javascript" src="//rawgit.com/douglascrockford/JSON-js/master/json2.js"></script>
    <script type="text/javascript"> if (!window['console']) console = {log: function() {}}; </script>
    <!--//end IE fixes -->
    <!-- Simple MVC -->
    <script type="text/javascript" src="../simple.mvc.js"></script>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/picnicss/5.1.0/picnic.min.css" />
    <script>
      var simplemvcObject;

      $(function() {
        simplemvcObject = $('#viewId').ModelView({
          // Person Object / Model
          model : {
            fullname: 'John Doe',
            // City is in View, and has been automatically been added to the model.
            //address: 'Address name' // Address is in Model, but not in View.
          },
          // Settings & Methods (implementation)
          settings: {
            isMirror: true,
            controller: MVC.Controller({
            }),
            change: function(e, n, v, o, t, s) { // event, name, value, object
              // console.log(t);
              // console.log(s);
            }
          }
        });
        setTimeout(function() {
          console.log(simplemvcObject.GetModelData());
          simplemvcObject.Clear();
        }, 1000);
        setTimeout(function() {
          console.log(simplemvcObject.GetModelData());
          simplemvcObject.Reset();
        }, 2000);
        setTimeout(function() {
          console.log(simplemvcObject.GetModelData());
        }, 3000);

      // var datasrc = "#viewId",
      //     name = "foo",
      //     name2 = "bar";
      //   $('*[datasrc*="' + datasrc + '"][name*="' + name + '"]').text("foo");
      //    $('*[datasrc*="' + datasrc + '"][name*="' + name2 + '"]').append("bar");

        // setTimeout(function() {
        //   var el4 = $('input[datasrc*="viewId"][name*="fullname"]').hasClass('append');
        //   console.log(el4);

        //   var el5 = $(document).find('input[datasrc*="viewId"][name*="fullname"]').hasClass('append');
        //   console.log(el5);

        //   var el6 = simplemvcObject.Find('input[name*="fullname"]').hasClass('append');
        //   console.log(el6);
        // },100);
        console.log($(document).find('span'));
      });

    </script>
  </head>
  <body>
    <div id="viewId">
      <!--<label>Full name:</label>-->
      <input datasrc="viewId" type="text" name="fullname" />
      <br />
      <label>City:</label>
      <input type="text" name="city" value="City Name" />
      <label>Street:</label>
      <input type="text" name="street" value="Street" />
    </div>
    <br />
    <span datasrc="#viewId" name="fullname"></span>
    <br />
    <div datasrc="#viewId">
      <span name="fullname"></span>
      <br />
      <span name="city"></span>
      <br />
      <span name="street"></span>
    </div>
    <!--<span datasrc="#viewId" name="foo bar" class="append"> </span>-->

  </body>
</html>